function validate_field(e){var t=!0;switch(jQuery(e).attr("field_type")){case"radio":case"checkbox":if(jQuery(e).closest(".required_field").find("#cat_limit").length){var n=jQuery(e).closest(".required_field").find("#cat_limit").attr("cat_limit"),r=jQuery(e).closest(".required_field").find("#cat_limit").val();if(jQuery(e).closest(".required_field").find(":checked").length>n&&n>0)return jQuery(e).closest(".required_field").find(".geodir_message_error").show(),jQuery(e).closest(".required_field").find(".geodir_message_error").html(r),!1}jQuery(e).closest(".required_field").find(":checked").length>0&&(t=!1);break;case"select":jQuery(e).closest(".geodir_form_row").find(".geodir_taxonomy_field").length>0&&jQuery(e).closest(".geodir_form_row").find("#post_category").length>0?jQuery(e).closest(".geodir_form_row").find("#post_category").val()!=""&&(t=!1):jQuery(e).find("option:selected").length>0&&jQuery(e).find("option:selected").val()!=""&&(t=!1);break;case"multiselect":if(jQuery(e).closest(".required_field").find("#cat_limit").length){var n=jQuery(e).closest(".required_field").find("#cat_limit").attr("cat_limit"),r=jQuery(e).closest(".required_field").find("#cat_limit").val();if(jQuery(e).find("option:selected").length>n&&n>0)return jQuery(e).closest(".required_field").find(".geodir_message_error").show(),jQuery(e).closest(".required_field").find(".geodir_message_error").html(r),!1}jQuery(e).find("option:selected").length>0&&(t=!1);break;case"email":var i=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;e.value!=""&&i.test(e.value)&&(t=!1);break;case"url":var i=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;e.value!=""&&i.test(e.value)&&(t=!1);break;case"editor":jQuery("#"+jQuery(e).attr("field_id")).val()!=""&&(t=!1);break;case"datepicker":case"time":case"text":case"textarea":e.value!=""&&(t=!1);break;case"address":if(jQuery(e).attr("id")=="post_latitude"||jQuery(e).attr("id")=="post_longitude")if(/^[0-90\-.]*$/.test(e.value)==1&&e.value!="")t=!1;else{var s=geodir_all_js_msg.geodir_latitude_error_msg;jQuery(e).attr("id")=="post_longitude"&&(s=geodir_all_js_msg.geodir_longgitude_error_msg),jQuery(e).closest(".required_field").find(".geodir_message_error").show(),jQuery(e).closest(".required_field").find(".geodir_message_error").html(s)}else e.value!=""&&(t=!1);break;default:e.value!=""&&(t=!1)}return t?(jQuery(e).closest(".required_field").find("span.geodir_message_error").html()==""&&jQuery(e).closest(".required_field").find("span.geodir_message_error").html(geodir_all_js_msg.geodir_field_id_required),jQuery(e).closest(".required_field").find("span.geodir_message_error").fadeIn(),!1):(jQuery(e).closest(".required_field").find("span.geodir_message_error").html(""),jQuery(e).closest(".required_field").find("span.geodir_message_error").fadeOut(),!0)}jQuery(document).ready(function(){jQuery("#propertyform").find(".required_field:visible").find("[field_type]:visible, .editor textarea").blur(function(){validate_field(this)}),jQuery("#propertyform").find(".required_field:visible").find("input[type='checkbox'],input[type='radio']").click(function(){validate_field(this)}),jQuery(document).delegate("#propertyform","submit",function(e){var t=!0;return jQuery(this).find(".required_field:visible").each(function(){jQuery(this).find("[field_type]:visible, .chosen_select, .geodir_location_add_listing_chosen, .editor, .event_recurring_dates, .geodir-custom-file-upload").each(function(){if(jQuery(this).is(".chosen_select, .geodir_location_add_listing_chosen")){var e=jQuery(this);jQuery("#"+jQuery(this).attr("id")+"_chzn").mouseleave(function(){validate_field(e)})}validate_field(this)||(t=validate_field(this))})}),t?!0:(jQuery(window).scrollTop(jQuery(".geodir_message_error:visible:first").closest(".required_field").offset().top),!1)})});